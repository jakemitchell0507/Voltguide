Voltguide/
│── index.html
│── style.css
│── app.js<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>VoltGuide Pro v8</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<header>
  <h1>⚡ VoltGuide Pro v8</h1>
</header>

<main id="app">

  <!-- HOME -->
  <section class="screen active" id="home">
    <button onclick="showScreen('voltage')">Voltage Drop</button>
    <button onclick="showScreen('fault')">Distance to Fault</button>
    <button onclick="showScreen('zs')">Max Zs Lookup</button>
    <button onclick="showScreen('history')">Saved Results</button>
  </section>

  <!-- VOLTAGE DROP -->
  <section class="screen" id="voltage">
    <h2>Voltage Drop Calculator</h2>

    <label>Cable Size (mm²)</label>
    <select id="cable">
      <option value="1.5">1.5</option>
      <option value="2.5">2.5</option>
      <option value="4">4</option>
      <option value="6">6</option>
    </select>

    <label>Length (m)</label>
    <input type="number" id="length" />

    <label>Current (A)</label>
    <input type="number" id="current" />

    <button onclick="calcVoltage()">Calculate</button>

    <p id="voltageResult"></p>
    <button onclick="saveResult('Voltage Drop', voltageResult.textContent)">Save</button>
    <button onclick="showScreen('home')">Back</button>
  </section>

  <!-- DISTANCE TO FAULT -->
  <section class="screen" id="fault">
    <h2>Distance to Fault</h2>

    <label>Measured Voltage Drop (V)</label>
    <input type="number" id="faultDrop" />

    <label>Cable Resistance (Ω/m)</label>
    <input type="number" id="faultRes" step="0.001"/>

    <button onclick="calcFault()">Calculate</button>

    <p id="faultResult"></p>
    <button onclick="saveResult('Fault Distance', faultResult.textContent)">Save</button>
    <button onclick="showScreen('home')">Back</button>
  </section>

  <!-- MAX ZS -->
  <section class="screen" id="zs">
    <h2>Max Zs Lookup</h2>

    <label>Breaker Type</label>
    <select id="breakerType">
      <option value="B">B</option>
      <option value="C">C</option>
      <option value="D">D</option>
    </select>

    <label>Rating (A)</label>
    <select id="breakerRating">
      <option>6</option><option>10</option><option>16</option>
      <option>20</option><option>32</option><option>40</option>
      <option>50</option><option>63</option>
    </select>

    <button onclick="calcZs()">Lookup</button>

    <p id="zsResult"></p>
    <button onclick="saveResult('Max Zs', zsResult.textContent)">Save</button>
    <button onclick="showScreen('home')">Back</button>
  </section>

  <!-- HISTORY -->
  <section class="screen" id="history">
    <h2>Saved Results</h2>
    <ul id="historyList"></ul>
    <button onclick="clearHistory()">Clear All</button>
    <button onclick="showScreen('home')">Back</button>
  </section>

</main>

<script src="app.js"></script>
</body>
</html>body {
  font-family: Arial, sans-serif;
  margin: 0;
  background: #0f172a;
  color: white;
  text-align: center;
}

header {
  background: #020617;
  padding: 15px;
}

button {
  display: block;
  margin: 10px auto;
  padding: 12px;
  width: 80%;
  max-width: 300px;
  border: none;
  border-radius: 10px;
  background: #2563eb;
  color: white;
  font-size: 16px;
}

input, select {
  width: 80%;
  max-width: 300px;
  padding: 10px;
  margin: 8px auto;
  display: block;
  border-radius: 8px;
  border: none;
}

.screen { display: none; }
.screen.active { display: block; }

ul { list-style: none; padding: 0; }
li { margin: 8px 0; }function showScreen(id) {
  document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  if (id === "history") loadHistory();
}

/* VOLTAGE DROP */
function calcVoltage() {
  const cable = parseFloat(cableSize());
  const length = parseFloat(lengthVal());
  const current = parseFloat(currentVal());

  if (!length || !current) return;

  const resistanceMap = {1.5: 0.0121, 2.5: 0.00741, 4: 0.00461, 6: 0.00308};
  const vd = resistanceMap[cable] * length * current;

  voltageResult.textContent = `Voltage Drop: ${vd.toFixed(2)} V`;
}

function cableSize(){ return document.getElementById("cable").value; }
function lengthVal(){ return document.getElementById("length").value; }
function currentVal(){ return document.getElementById("current").value; }

/* FAULT DISTANCE */
function calcFault() {
  const drop = parseFloat(faultDrop.value);
  const res = parseFloat(faultRes.value);

  if (!drop || !res) return;

  const distance = drop / res;
  faultResult.textContent = `Estimated Distance: ${distance.toFixed(1)} m`;
}

/* MAX ZS */
function calcZs() {
  const type = breakerType.value;
  const rating = breakerRating.value;

  const table = {
    B: {6:7.67,10:4.6,16:2.87,20:2.3,32:1.44,40:1.15,50:0.92,63:0.73},
    C: {6:3.83,10:2.3,16:1.44,20:1.15,32:0.72,40:0.58,50:0.46,63:0.37},
    D: {6:1.92,10:1.15,16:0.72,20:0.58,32:0.36,40:0.29,50:0.23,63:0.18}
  };

  zsResult.textContent = `Max Zs: ${table[type][rating]} Ω`;
}

/* HISTORY */
function saveResult(type, text) {
  if (!text) return;

  const history = JSON.parse(localStorage.getItem("voltguide")) || [];
  history.push(`${type}: ${text}`);
  localStorage.setItem("voltguide", JSON.stringify(history));
}

function loadHistory() {
  const list = document.getElementById("historyList");
  list.innerHTML = "";

  const history = JSON.parse(localStorage.getItem("voltguide")) || [];
  history.forEach(item => {
    const li = document.createElement("li");
    li.textContent = item;
    list.appendChild(li);
  });
}

function clearHistory() {
  localStorage.removeItem("voltguide");
  loadHistory();
}
